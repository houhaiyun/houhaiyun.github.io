<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Peter's technology stack."><title>Redis 常用操作 | Keep learn!</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/font.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a><a class="sidebar-nav-item" href="/archives">Archives</a><a class="sidebar-nav-item" href="/about">About</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/Redis/">Redis</a></div><div class="post-time">2019-07-28</div></div></div><div class="container post-header"><h1>Redis 常用操作</h1></div><div class="container post-toc"><details class="toc"><summary class="toc-accordion">Table of Contents</summary><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Reids-数据类型"><span class="toc-number">1.</span> <span class="toc-text">Reids 数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#字符串的增删改查"><span class="toc-number">2.</span> <span class="toc-text">字符串的增删改查</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Set集合的增删改查"><span class="toc-number">3.</span> <span class="toc-text">Set集合的增删改查</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#List集合的增删改查"><span class="toc-number">4.</span> <span class="toc-text">List集合的增删改查</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Hash集合的增删改查"><span class="toc-number">5.</span> <span class="toc-text">Hash集合的增删改查</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sorted-set有序集合"><span class="toc-number">6.</span> <span class="toc-text">sorted set有序集合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Redis-批量删除key"><span class="toc-number">7.</span> <span class="toc-text">Redis 批量删除key</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#参考链接"><span class="toc-number">8.</span> <span class="toc-text">参考链接</span></a></li></ol></details></div><div class="container post-content"><h3 id="Reids-数据类型"><a href="#Reids-数据类型" class="headerlink" title="Reids 数据类型"></a>Reids 数据类型</h3><p>Redis支持五种数据类型：string（字符串），hash（哈希），list（列表），set（集合）及zset(sorted set：有序集合)。</p>
<a id="more"></a>
<ul>
<li>String（字符串）<ul>
<li>string 是 Reids 最基本的类型，你可以理解成与 Memcached 一摸一样的类型，一个 key 对应一个value。</li>
</ul>
</li>
<li>Hash（哈希）<ul>
<li>Redis hash 是一个键值（key=&gt;value）对的集合。</li>
<li>Redis hash 是一个 String 类型的 field 和value 的映射表，hash 特别适合用于存储对象。</li>
</ul>
</li>
<li>List（列表）<ul>
<li>Redis 列表是简单的字符串列表，按照插入顺序排序。你可以添加一个元素到列表的头部（左边）或者尾部（右边）。</li>
</ul>
</li>
<li>Set（集合）<ul>
<li>Redis 的 Set 是 String 类型的无序集合。</li>
</ul>
</li>
<li>Sotred Set（有序集合）<ul>
<li>Redis zset 和 set 一样也是 string 类型元素的集合,且不允许重复的成员。</li>
</ul>
</li>
</ul>
<h3 id="字符串的增删改查"><a href="#字符串的增删改查" class="headerlink" title="字符串的增删改查"></a>字符串的增删改查</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 增加一个key为key_1的值</span></span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> key_1 <span class="string">"1"</span></span><br><span class="line">OK</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看key_1的值</span></span><br><span class="line">127.0.0.1:6379&gt; get key_1</span><br><span class="line"><span class="string">"1"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改key_1的值为"new"</span></span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> key_1 <span class="string">"new"</span></span><br><span class="line">OK</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看key_1的值</span></span><br><span class="line">127.0.0.1:6379&gt; get key_1</span><br><span class="line"><span class="string">"new"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 为key_1重新命名为key_new</span></span><br><span class="line">127.0.0.1:6379&gt; rename key_1 key_new</span><br><span class="line">OK</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看所有的key</span></span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">1) <span class="string">"key_new"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除key_new</span></span><br><span class="line">127.0.0.1:6379&gt; del key_new</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看所有的key</span></span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">(empty list or <span class="built_in">set</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看key_new是否存在</span></span><br><span class="line">127.0.0.1:6379&gt; exists key_new</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br></pre></td></tr></table></figure>
<h3 id="Set集合的增删改查"><a href="#Set集合的增删改查" class="headerlink" title="Set集合的增删改查"></a>Set集合的增删改查</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除当前选择数据库中的所有key</span></span><br><span class="line">127.0.0.1:6379&gt; flushdb</span><br><span class="line">OK</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以看到已经全部删除 </span></span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">(empty list or <span class="built_in">set</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成set集合，添加4个数据</span></span><br><span class="line">127.0.0.1:6379&gt; sadd set_key <span class="string">"a"</span> <span class="string">"b"</span> <span class="string">"c"</span> <span class="string">"d"</span></span><br><span class="line">(<span class="built_in">integer</span>) 4</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查询set里面所有的值</span></span><br><span class="line">127.0.0.1:6379&gt; smembers set_key</span><br><span class="line">1) <span class="string">"d"</span></span><br><span class="line">2) <span class="string">"a"</span></span><br><span class="line">3) <span class="string">"c"</span></span><br><span class="line">4) <span class="string">"b"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除value为"d"，删除成功返回1，如果value或key不存在返回0</span></span><br><span class="line">127.0.0.1:6379&gt; srem set_key <span class="string">"d"</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查询set里面所有的值，value为"d"已经不存在</span></span><br><span class="line">127.0.0.1:6379&gt; smembers set_key</span><br><span class="line">1) <span class="string">"a"</span></span><br><span class="line">2) <span class="string">"c"</span></span><br><span class="line">3) <span class="string">"b"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 增加value为"d"</span></span><br><span class="line">127.0.0.1:6379&gt; sadd set_key <span class="string">"d"</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查询所有值，value为"d"已经存在</span></span><br><span class="line">127.0.0.1:6379&gt; smembers set_key</span><br><span class="line">1) <span class="string">"d"</span></span><br><span class="line">2) <span class="string">"a"</span></span><br><span class="line">3) <span class="string">"c"</span></span><br><span class="line">4) <span class="string">"b"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 继续增加value为"d"，可以看到返回值为0</span></span><br><span class="line">127.0.0.1:6379&gt; sadd set_key <span class="string">"d"</span></span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查询所有的值，value为"d"只有一个，但是我们添加了两次，添加不进去set也不会报错，set是不允许重复的</span></span><br><span class="line">127.0.0.1:6379&gt; smembers set_key</span><br><span class="line">1) <span class="string">"d"</span></span><br><span class="line">2) <span class="string">"a"</span></span><br><span class="line">3) <span class="string">"c"</span></span><br><span class="line">4) <span class="string">"b"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 和上述一样</span></span><br><span class="line">127.0.0.1:6379&gt; sadd set_key <span class="string">"d"</span></span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; smembers set_key</span><br><span class="line">1) <span class="string">"c"</span></span><br><span class="line">2) <span class="string">"b"</span></span><br><span class="line">3) <span class="string">"a"</span></span><br><span class="line">4) <span class="string">"d"</span></span><br></pre></td></tr></table></figure>
<h3 id="List集合的增删改查"><a href="#List集合的增删改查" class="headerlink" title="List集合的增删改查"></a>List集合的增删改查</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加key为list_key的list集合</span></span><br><span class="line">127.0.0.1:6379&gt; lpush list_key <span class="string">"a"</span> <span class="string">"b"</span> <span class="string">"c"</span> <span class="string">"d"</span></span><br><span class="line">(<span class="built_in">integer</span>) 4</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看key为list_key的集合</span></span><br><span class="line">127.0.0.1:6379&gt; lrange list_key 0 -1</span><br><span class="line">1) <span class="string">"d"</span></span><br><span class="line">2) <span class="string">"c"</span></span><br><span class="line">3) <span class="string">"b"</span></span><br><span class="line">4) <span class="string">"a"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 往list尾部添加元素</span></span><br><span class="line">127.0.0.1:6379&gt; rpush list_key <span class="string">"next"</span></span><br><span class="line">(<span class="built_in">integer</span>) 5</span><br><span class="line"></span><br><span class="line"><span class="comment"># 往list头部添加元素</span></span><br><span class="line">127.0.0.1:6379&gt; lpush list_key <span class="string">"first"</span></span><br><span class="line">(<span class="built_in">integer</span>) 6</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查询list集合</span></span><br><span class="line">127.0.0.1:6379&gt; lrange list_key 0 -1</span><br><span class="line">1) <span class="string">"first"</span></span><br><span class="line">2) <span class="string">"d"</span></span><br><span class="line">3) <span class="string">"c"</span></span><br><span class="line">4) <span class="string">"b"</span></span><br><span class="line">5) <span class="string">"a"</span></span><br><span class="line">6) <span class="string">"next"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 更新index为0的值</span></span><br><span class="line">127.0.0.1:6379&gt; lset list_key 0 <span class="string">"update_first"</span></span><br><span class="line">OK</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查询list集合</span></span><br><span class="line">127.0.0.1:6379&gt; lrange list_key 0 -1</span><br><span class="line">1) <span class="string">"update_first"</span></span><br><span class="line">2) <span class="string">"d"</span></span><br><span class="line">3) <span class="string">"c"</span></span><br><span class="line">4) <span class="string">"b"</span></span><br><span class="line">5) <span class="string">"a"</span></span><br><span class="line">6) <span class="string">"next"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除index为1上的值</span></span><br><span class="line">127.0.0.1:6379&gt; lrem list_key 1 <span class="string">"update_first"</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看list集合</span></span><br><span class="line">127.0.0.1:6379&gt; lrange list_key 0 -1</span><br><span class="line">1) <span class="string">"d"</span></span><br><span class="line">2) <span class="string">"c"</span></span><br><span class="line">3) <span class="string">"b"</span></span><br><span class="line">4) <span class="string">"a"</span></span><br><span class="line">5) <span class="string">"next"</span></span><br></pre></td></tr></table></figure>
<h3 id="Hash集合的增删改查"><a href="#Hash集合的增删改查" class="headerlink" title="Hash集合的增删改查"></a>Hash集合的增删改查</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成hash集合，并添加key为id_1 value为"00001"</span></span><br><span class="line">127.0.0.1:6379&gt; hset hash_key <span class="string">"id_1"</span> <span class="string">"00001"</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看hash集合的所有key</span></span><br><span class="line">127.0.0.1:6379&gt; hkeys hash_key</span><br><span class="line">1) <span class="string">"id_1"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看hash集合的所有值</span></span><br><span class="line">127.0.0.1:6379&gt; hvals hash_key</span><br><span class="line">1) <span class="string">"00001"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 为hash集合增加值</span></span><br><span class="line">127.0.0.1:6379&gt; hset hash_key <span class="string">"id_2"</span> <span class="string">"00002"</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; hset hash_key <span class="string">"id_3"</span> <span class="string">"00003"</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获得key为id_2的value</span></span><br><span class="line">127.0.0.1:6379&gt; hget hash_key <span class="string">"id_2"</span></span><br><span class="line"><span class="string">"00002"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除key为id_3的值</span></span><br><span class="line">127.0.0.1:6379&gt; hdel hash_key <span class="string">"id_3"</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看所有的key</span></span><br><span class="line">127.0.0.1:6379&gt; hkeys hash_key</span><br><span class="line">1) <span class="string">"id_1"</span></span><br><span class="line">2) <span class="string">"id_2"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看所有，包括key和value</span></span><br><span class="line">127.0.0.1:6379&gt; hgetall hash_key</span><br><span class="line">1) <span class="string">"id_1"</span></span><br><span class="line">2) <span class="string">"00001"</span></span><br><span class="line">3) <span class="string">"id_2"</span></span><br><span class="line">4) <span class="string">"00002"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 更新key为id_1的值</span></span><br><span class="line">127.0.0.1:6379&gt; hset hash_key <span class="string">"id_1"</span> <span class="string">"000001"</span></span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看所有的值</span></span><br><span class="line">127.0.0.1:6379&gt; hgetall hash_key</span><br><span class="line">1) <span class="string">"id_1"</span></span><br><span class="line">2) <span class="string">"000001"</span></span><br><span class="line">3) <span class="string">"id_2"</span></span><br><span class="line">4) <span class="string">"00002"</span></span><br></pre></td></tr></table></figure>
<h3 id="sorted-set有序集合"><a href="#sorted-set有序集合" class="headerlink" title="sorted set有序集合"></a>sorted set有序集合</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 增加有序集合</span></span><br><span class="line">127.0.0.1:6379&gt; zadd sorted_set 1 test1</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; zadd sorted_set 2 test2</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; zadd sorted_set 3 test3</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; zadd sorted_set 4 test4</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看所有值</span></span><br><span class="line">127.0.0.1:6379&gt; zrange sorted_set 0 10 withscores</span><br><span class="line">1) <span class="string">"test1"</span></span><br><span class="line">2) <span class="string">"1"</span></span><br><span class="line">3) <span class="string">"test2"</span></span><br><span class="line">4) <span class="string">"2"</span></span><br><span class="line">5) <span class="string">"test3"</span></span><br><span class="line">6) <span class="string">"3"</span></span><br><span class="line">7) <span class="string">"test4"</span></span><br><span class="line">8) <span class="string">"4"</span></span><br></pre></td></tr></table></figure>
<h3 id="Redis-批量删除key"><a href="#Redis-批量删除key" class="headerlink" title="Redis 批量删除key"></a>Redis 批量删除key</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 首先增加一些key，这些key有一个特征，那么就是n开头</span></span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> naa 1</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> nbb 2</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> ncc 2</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> ndd 2</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; keys n*</span><br><span class="line">1) <span class="string">"nbb"</span></span><br><span class="line">2) <span class="string">"naa"</span></span><br><span class="line">3) <span class="string">"ndd"</span></span><br><span class="line">4) <span class="string">"ncc"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 正常删除</span></span><br><span class="line">del nbb naa ncc ndd</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 远程删除</span></span><br><span class="line">redis-cli keys <span class="string">"n*"</span> | xargs redis-cli del</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定密码端口和主机</span></span><br><span class="line"> -h &lt;hostname&gt;</span><br><span class="line"> -p &lt;port&gt;    </span><br><span class="line"> -a &lt;password&gt;</span><br></pre></td></tr></table></figure>
<h3 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h3><p><a href="http://www.runoob.com/redis/redis-data-types.html" target="_blank" rel="noopener">http://www.runoob.com/redis/redis-data-types.html</a></p>
</div></div><div class="post-main post-comment"><div id="disqus_thread"></div><script type="text/javascript">
var disqus_shortname = 'keeplearn';
var disqus_identifier = '2019/07/28/redis_common_operate/';
var disqus_title = 'Redis 常用操作';
var disqus_url = 'https://keeplearn.vip/2019/07/28/redis_common_operate/';
(function() {
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">Blog comments powered by <span class="logo-disqus">Disqus</span></a></div></article><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
  $(".fancybox").fancybox();
});
</script></body></html>