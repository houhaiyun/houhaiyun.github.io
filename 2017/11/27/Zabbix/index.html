<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Peter's technology stack."><title>Zabbix | Keep learn!</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/font.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a><a class="sidebar-nav-item" href="/archives">Archives</a><a class="sidebar-nav-item" href="/about">About</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/Zabbix/">Zabbix</a></div><div class="post-time">2017-11-27</div></div></div><div class="container post-header"><h1>Zabbix</h1></div><div class="container post-toc"><details class="toc"><summary class="toc-accordion">Table of Contents</summary><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Zabbix"><span class="toc-number">1.</span> <span class="toc-text">Zabbix</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Zabbix是什么？"><span class="toc-number">1.1.</span> <span class="toc-text">Zabbix是什么？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#数据采集"><span class="toc-number">1.2.</span> <span class="toc-text">数据采集</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#数据存储"><span class="toc-number">1.3.</span> <span class="toc-text">数据存储</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#故障告警"><span class="toc-number">1.4.</span> <span class="toc-text">故障告警</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#数据可视化"><span class="toc-number">1.5.</span> <span class="toc-text">数据可视化</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Zabbix-Standard和Zabbix-LTS-长期维护版-发布生命周期"><span class="toc-number">2.</span> <span class="toc-text">Zabbix Standard和Zabbix LTS(长期维护版)发布生命周期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Zabbix-Architecture"><span class="toc-number">3.</span> <span class="toc-text">Zabbix Architecture</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Zabbix架构组件"><span class="toc-number">3.1.</span> <span class="toc-text">Zabbix架构组件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Zabbix常用术语"><span class="toc-number">4.</span> <span class="toc-text">Zabbix常用术语</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Zabbix逻辑架构"><span class="toc-number">5.</span> <span class="toc-text">Zabbix逻辑架构</span></a></li></ol></details></div><div class="container post-content"><h3 id="Zabbix"><a href="#Zabbix" class="headerlink" title="Zabbix"></a>Zabbix</h3><h4 id="Zabbix是什么？"><a href="#Zabbix是什么？" class="headerlink" title="Zabbix是什么？"></a>Zabbix是什么？</h4><p>官方手册对<code>Zabbix</code>的介绍</p>
<ul>
<li><code>Zabbix</code> 是由<code>Alexei</code> <code>Vladishev</code>创建，目前由<code>ZabbixSIA</code>在持续开发和支持。</li>
<li><code>Zabbix</code> 是一个企业级的分布式开源监控方案。</li>
<li><code>Zabbix</code>是一款能够监控各种网络参数以及服务器健康性和完整性的软件。<code>Zabbix</code>使用灵活的通知机制，允许用户为几乎任何事件配置基于邮件的告警。这样可以快速反馈服务器的问题。基于已存储的数据，<code>Zabbix</code>提供了出色的报告和数据可视化功能。这些功能使得<code>Zabbix</code>成为容量规划的理想方案。</li>
<li><code>Zabbix</code>支持主动轮询和被动捕获。<code>Zabbix</code>所有的报告、统计信息和配置参数都可以通过基于<code>Web</code>的前端页面进行访问。基于<code>Web</code>的前端页面可以确保您从任何方面评估您的网络状态和服务<br>器的健康性。适当的配置后，<code>Zabbix</code>可以在<code>IT</code>基础架构监控方面扮演重要的角色。对于只有少量服务器的小型组织和拥有大量服务器的大型公司也同样如此。</li>
<li><code>Zabbix</code>是免费的。<code>Zabbix</code>是根据<code>GPL</code>通用公共许可证第2版编写和发行的。这意味着它的源代码都是免费发行的，可供公众任意使用。</li>
</ul>
<a id="more"></a>
<h4 id="数据采集"><a href="#数据采集" class="headerlink" title="数据采集"></a>数据采集</h4><ul>
<li><code>agent</code>：使用<code>C</code>语言开发的本地<code>Zabbix</code>代理可以在各种支持的平台（包括<code>Linux</code>，<code>UNIX</code>和<code>Windows</code>）上运行，并从设备收集诸如<code>CPU</code>，内存，磁盘和网络接口等数据。</li>
<li><code>SNMP</code>：简单网络管理协议（<code>SNMP</code>），由一组网络管理的标准组成，包含一个应用层协议（<code>application layer protocol</code>）、数据库模型（<code>database schema</code>）和一组资源对象。该协议能够支持网络管理系统，用以监测连接到网络上的设备是否有任何引起管理上关注的情况。</li>
<li><code>IPMI</code>：智能平台管理接口<code>IPMI</code>(<code>Intelligent Platform Management Interface</code>) 是一种开放标准的硬件管理接口规格，定义了嵌入式管理子系统进行通信的特定方法。<code>IPMI</code> 信息通过基板管理控制器 (<code>BMC</code>)（位于 <code>IPMI</code> 规格的硬件组件上）进行交流。使用低级硬件智能管理而不使用操作系统进行管理，具有两个主要优点： 首先，此配置允许进行带外服务器管理；其次，操作系统不必负担传输系统状态数据的任务。</li>
<li><code>JMX</code>：<code>JMX</code>（<code>Java Management Extensions</code>，即<code>Java</code>管理扩展）是一个为应用程序、设备、系统等植入管理功能的框架。<code>JMX</code>可以跨越一系列异构操作系统平台、系统体系结构和网络传输协议，灵活的开发无缝集成的系统、网络和服务管理应用。</li>
</ul>
<h4 id="数据存储"><a href="#数据存储" class="headerlink" title="数据存储"></a>数据存储</h4><ul>
<li><code>MySQL</code>是一个关系型数据库管理系统，由瑞典<code>MySQL AB</code> 公司开发，目前属于 <code>Oracle</code> 旗下产品。</li>
<li><code>PostgreSQL</code>是以加州大学伯克利分校计算机系开发的 <code>POSTGRES</code> 版本 <code>4.2</code> 为基础的对象关系型数据库管理系统（<code>ORDBMS</code>）</li>
</ul>
<h4 id="故障告警"><a href="#故障告警" class="headerlink" title="故障告警"></a>故障告警</h4><ul>
<li>通过电子邮件</li>
<li>使用自定义<code>script</code>(短信、微信)</li>
</ul>
<h4 id="数据可视化"><a href="#数据可视化" class="headerlink" title="数据可视化"></a>数据可视化</h4><ul>
<li><code>Zabbix</code>网页前端</li>
<li>全球仪表板</li>
<li>图表</li>
<li>地图</li>
<li>屏幕和幻灯片放映</li>
<li>访问原始数据</li>
<li>活动和通知详情</li>
</ul>
<h3 id="Zabbix-Standard和Zabbix-LTS-长期维护版-发布生命周期"><a href="#Zabbix-Standard和Zabbix-LTS-长期维护版-发布生命周期" class="headerlink" title="Zabbix Standard和Zabbix LTS(长期维护版)发布生命周期"></a>Zabbix Standard和Zabbix LTS(长期维护版)发布生命周期</h3><center><img src="https://houhaiyun.github.io/img/images/Zabbix-1.jpg" title="Zabbix Standard和Zabbix LTS"></center>



<h3 id="Zabbix-Architecture"><a href="#Zabbix-Architecture" class="headerlink" title="Zabbix Architecture"></a>Zabbix Architecture</h3><center><img src="https://houhaiyun.github.io/img/images/Zabbix-2.jpg" title="Zabbix Architecture"></center>

<h4 id="Zabbix架构组件"><a href="#Zabbix架构组件" class="headerlink" title="Zabbix架构组件"></a>Zabbix架构组件</h4><ul>
<li><code>Zabbix</code> <code>Server</code>：负责接收<code>agent</code>发送的报告信息的核心组件，所有配置、统计数据及操&gt;作数据均由其组织进行</li>
<li><code>Database</code> <code>Storage</code>：专用于存储所有配置信息，以及由<code>zabbix</code>手机的数据</li>
<li><code>Web</code> <code>Interface</code>：<code>zabbix</code>的<code>GUI</code>接口，通常与<code>Server</code>运行在同一台主机上</li>
<li><code>Proxy</code>：可选组间，常用语分布监控环境中，代理<code>Server</code>收集部分被监控端的监控数据并同一发往<code>Server</code>段</li>
<li><code>Agent</code>：部署在被监控主机上，负责手机本地数据并发往<code>Server</code>段，或<code>Proxu</code>段</li>
</ul>
<h3 id="Zabbix常用术语"><a href="#Zabbix常用术语" class="headerlink" title="Zabbix常用术语"></a>Zabbix常用术语</h3><ul>
<li>主机(<code>host</code>)：要监控的网络设备，IP或DNS名称指定</li>
<li>主机组(<code>host group</code>)：主机的逻辑容器。可包含主机和模板，同一个组内的主机和模板不能相互链接，一般给用户(组)指派监控权限使用</li>
<li>监控项(<code>item</code>)：一个特定监控指标的相关数据，这些数据来自于被监控对象；<code>item</code>是<code>zabbix</code>进行数据收集的核心，没有<code>item</code>，将没有数据；相对某监控对象来说，每个<code>item</code>都由“<code>key</code>”进行标识</li>
<li>触发器(<code>tigger</code>)：一个表达式，用于评估某监控对象的某特定<code>item</code>内所接收到的数据是否在合理范围内，即阈值<br>；接收到的数据量大于阈值时，触发器状态将从“<code>OK</code>”转变为“<code>Problem</code>”，当数据量再次回到合理范围时，其状态将从“<code>Problem</code>”转换回“<code>OK</code>”</li>
<li>事件(<code>event</code>)：即发生的一个值得关注的事情，例如触发器的状态转变，新的<code>agent</code>或重新上线的<code>agent</code>的自动注册等；</li>
<li>动作(<code>action</code>)：指定对于特定事件事先定义的处理方法，通过包行操作(如发送通知)和条件(何时执行操作)</li>
<li>预警升级(<code>escalation</code>)：发送报警或执行远程命令的自定义方案，如每个5分钟发送一次警报，共发送5次等- 媒介(<code>media</code>)：发送通知的手段或通道，如<code>Email</code>、<code>JOBBER</code>、<code>SMS</code>、微信通知 通知(<code>notification</code>)：通过选定的媒介向用户发送的有关某事件的信息</li>
<li>远程命令(<code>remote</code> <code>command</code>)：预定义的命令，可在被监控主机处于某特定条件下自动执行 </li>
<li>模板(<code>template</code>)：用于快速定义被监控主机的预设条目集合，通常包含了<code>item</code>、<code>trigger</code>、<code>graph</code>、<code>screen</code>、<code>application</code>、以及<code>low-level</code> <code>discovery</code> <code>rule</code>；模板可以直接链接至单个主机 </li>
<li>应用(<code>application</code>)：一组<code>item</code>的集合</li>
<li><code>web</code>场景(<code>web</code> <code>application</code>)：用于检测<code>web</code>站点可用性的一个或多个<code>HTTP</code>请求</li>
<li>前端(<code>frontend</code>)：<code>Zabbix</code>的<code>web</code>接口</li>
<li>屏幕(<code>screens</code>)：利用当前的屏幕，来展示多个<code>graph</code> </li>
<li>图表(<code>graph</code>)：用于图像化显示时间虚拟数据，<code>item</code>指标产生的监控数据</li>
<li><code>maps</code>：整个系统的拓扑图</li>
</ul>
<h3 id="Zabbix逻辑架构"><a href="#Zabbix逻辑架构" class="headerlink" title="Zabbix逻辑架构"></a>Zabbix逻辑架构</h3><ul>
<li>定义一个<code>template</code>模板，里面包括多个<code>items</code>，<code>trigger</code>，<code>graphs</code>套用给<code>host</code>或者<code>hostgroups</code>。</li>
<li><code>zabbix</code> <code>poller</code>进程（可以有多个进程实现并发处理）包括<code>snmp</code>，<code>agent</code>协议收集被监控主机信息。</li>
<li>如果阈值超过<code>triggers</code>触发器规定，就是形成一个<code>events</code>事件，然后<code>actions</code>处理动作（包括运行预先定制的脚本，不成功发送<code>email</code>或<code>SMS</code>）。</li>
<li>在服务器升级的时候提前设定<code>maintenance</code>维护模式不对服务器产生告警通知。</li>
</ul>
<center><img src="https://houhaiyun.github.io/img/images/Zabbix-3.png" title="Zabbix逻辑架构"></center>

</div></div><div class="post-main post-comment"></div></article><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
  $(".fancybox").fancybox();
});
</script></body></html>