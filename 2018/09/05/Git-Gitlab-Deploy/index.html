<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Peter's technology stack."><title>部署 gitlab | Keep learn!</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/font.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a><a class="sidebar-nav-item" href="/archives">Archives</a><a class="sidebar-nav-item" href="/about">About</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/Git/">Git</a></div><div class="post-time">2018-09-05</div></div></div><div class="container post-header"><h1>部署 gitlab</h1></div><div class="container post-toc"><details class="toc"><summary class="toc-accordion">Table of Contents</summary><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#git家族的成员"><span class="toc-number">1.</span> <span class="toc-text">git家族的成员</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装相关依赖"><span class="toc-number">2.</span> <span class="toc-text">安装相关依赖</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#引入yum源，并安装gitlab"><span class="toc-number">3.</span> <span class="toc-text">引入yum源，并安装gitlab</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#重启服务"><span class="toc-number">4.</span> <span class="toc-text">重启服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#访问测试"><span class="toc-number">5.</span> <span class="toc-text">访问测试</span></a></li></ol></details></div><div class="container post-content"><h3 id="git家族的成员"><a href="#git家族的成员" class="headerlink" title="git家族的成员"></a>git家族的成员</h3><a id="more"></a>
<ul>
<li><code>git</code>   是一种版本控制系统，是一个命令，是一种工具</li>
<li><code>gitlib</code>    是用于实现<code>git</code>功能的开发库</li>
<li><code>github</code>    是一个基于<code>git</code>实现的在线代码托管仓库，包含一个网站界面，向互联网开放</li>
<li><code>gitlab</code>    是一个基于<code>git</code>实现的在线代码仓库托管软件，你可以用<code>gitlab</code>自己搭建一个类似于<code>github</code>一样的系统，一般用于在企业、学校等内部网络搭建<code>git</code>私服</li>
</ul>
<h3 id="安装相关依赖"><a href="#安装相关依赖" class="headerlink" title="安装相关依赖"></a>安装相关依赖</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]# yum -y  install curl policycoreutils openssh-server openssh-clients</span><br><span class="line">[root@centos7 ~]# systemctl enable sshd     # 开机自启sshd，正常情况sshd是开机自启的；</span><br><span class="line">[root@centos7 ~]# systemctl start sshd</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>另外如果开启了防火墙, 注意设置防火墙的规则</strong></p>
</blockquote>
<h3 id="引入yum源，并安装gitlab"><a href="#引入yum源，并安装gitlab" class="headerlink" title="引入yum源，并安装gitlab"></a>引入yum源，并安装gitlab</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]# curl -sS https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | bash</span><br><span class="line"></span><br><span class="line">[root@centos7 ~]# yum install gitlab-ce -y      # 安装gitlab-ce；</span><br><span class="line">[root@centos7 ~]# gitlab-ctl reconfigure        # 配置并启动；</span><br></pre></td></tr></table></figure>
<h3 id="重启服务"><a href="#重启服务" class="headerlink" title="重启服务"></a>重启服务</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]# gitlab-ctl restart</span><br><span class="line">ok: run: gitaly: (pid 3914) 0s</span><br><span class="line">ok: run: gitlab-monitor: (pid 3925) 1s</span><br><span class="line">ok: run: gitlab-workhorse: (pid 3937) 0s</span><br><span class="line">ok: run: logrotate: (pid 3948) 0s</span><br><span class="line">ok: run: nginx: (pid 3954) 1s</span><br><span class="line">ok: run: node-exporter: (pid 3964) 0s</span><br><span class="line">ok: run: postgres-exporter: (pid 3970) 1s</span><br><span class="line">ok: run: postgresql: (pid 3980) 0s</span><br><span class="line">ok: run: prometheus: (pid 4023) 0s</span><br><span class="line">ok: run: redis: (pid 4033) 0s</span><br><span class="line">ok: run: redis-exporter: (pid 4039) 0s</span><br><span class="line">ok: run: sidekiq: (pid 4048) 1s</span><br><span class="line">ok: run: unicorn: (pid 4059) 0s</span><br></pre></td></tr></table></figure>
<h3 id="访问测试"><a href="#访问测试" class="headerlink" title="访问测试"></a>访问测试</h3><p><code>http://ip或域名</code></p>
<center><img src="http://ovuhiuqqd.bkt.clouddn.com/Gitlab-Install-1.jpg"></center>

</div></div><div class="post-main post-comment"></div></article><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
  $(".fancybox").fancybox();
});
</script></body></html>