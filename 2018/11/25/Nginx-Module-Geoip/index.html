<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Peter's technology stack."><title>Nginx之GeoIP | Peter's technology stack.</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/font.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a><a class="sidebar-nav-item" href="/archives">Archives</a><a class="sidebar-nav-item" href="/about">About</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/Nginx/">Nginx</a></div><div class="post-time">2018-11-25</div></div></div><div class="container post-header"><h1>Nginx之GeoIP</h1></div><div class="container post-toc"><details class="toc"><summary class="toc-accordion">Table of Contents</summary><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#简介"><span class="toc-number">1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#编译GeoIP组件"><span class="toc-number">2.</span> <span class="toc-text">编译GeoIP组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#下载-GeoIP-数据库文件"><span class="toc-number">3.</span> <span class="toc-text">下载 GeoIP 数据库文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#编译-Nginx"><span class="toc-number">4.</span> <span class="toc-text">编译 Nginx</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#拷贝-GeoIP-数据文件"><span class="toc-number">4.1.</span> <span class="toc-text">拷贝 GeoIP 数据文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#修改Nginx配置文件"><span class="toc-number">4.2.</span> <span class="toc-text">修改Nginx配置文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#编写405-html"><span class="toc-number">4.3.</span> <span class="toc-text">编写405.html</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#启动Nginx测试"><span class="toc-number">4.4.</span> <span class="toc-text">启动Nginx测试</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GeoIP组件配置项参考"><span class="toc-number">5.</span> <span class="toc-text">GeoIP组件配置项参考</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#GeoIP中跟国家相关的变量"><span class="toc-number">5.1.</span> <span class="toc-text">GeoIP中跟国家相关的变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GeoIP-中跟省份相关的变量"><span class="toc-number">5.2.</span> <span class="toc-text">GeoIP 中跟省份相关的变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GeoIP中跟国家下级区域相关的变量"><span class="toc-number">5.3.</span> <span class="toc-text">GeoIP中跟国家下级区域相关的变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#查询IP信息"><span class="toc-number">5.4.</span> <span class="toc-text">查询IP信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#查询IP所在经纬度"><span class="toc-number">5.5.</span> <span class="toc-text">查询IP所在经纬度</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#致谢"><span class="toc-number">6.</span> <span class="toc-text">致谢</span></a></li></ol></details></div><div class="container post-content"><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><a id="more"></a>
<p>Nginx中自带GeoIP模块可以屏蔽指定IP的请求，只不过默认没有编译，打开以后我们只要再下载一个IP规则就行，Nginx服务器中配置GeoIP模块来拦截指定国家IP。</p>
<h3 id="编译GeoIP组件"><a href="#编译GeoIP组件" class="headerlink" title="编译GeoIP组件"></a>编译GeoIP组件</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">yum install -y gcc gcc-c++</span><br><span class="line">yum install -y zlib-devel</span><br><span class="line">wget http://geolite.maxmind.com/download/geoip/api/c/GeoIP.tar.gz</span><br><span class="line">tar xf GeoIP.tar.gz</span><br><span class="line">cd GeoIP-1.4.8/</span><br><span class="line">./configure </span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>
<p>刚才安装的库自动安装到<code>/usr/local/lib</code>下，所有这个目录需要加到动态链接配置里面以便运行相关程序的时候能自动绑定到这个 GeoIP 库：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo '/usr/local/lib' &gt; /etc/ld.so.conf.d/geoip.conf</span><br><span class="line">ldconfig</span><br></pre></td></tr></table></figure>
<h3 id="下载-GeoIP-数据库文件"><a href="#下载-GeoIP-数据库文件" class="headerlink" title="下载 GeoIP 数据库文件"></a>下载 GeoIP 数据库文件</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wget http://geolite.maxmind.com/download/geoip/database/GeoLiteCountry/GeoIP.dat.gz</span><br><span class="line">gunzip GeoIP.dat.gz</span><br><span class="line">wget http://geolite.maxmind.com/download/geoip/database/GeoLiteCity.dat.gz</span><br><span class="line">gunzip GeoLiteCity.dat.gz</span><br></pre></td></tr></table></figure>
<h3 id="编译-Nginx"><a href="#编译-Nginx" class="headerlink" title="编译 Nginx"></a>编译 Nginx</h3><p>Nginx默认不编译这个模块，需要开启<code>--with-http_geoip_module</code>编译选项。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">yum -y install  openssl-devel pcre-devel \</span><br><span class="line">    gcc make gcc-c++  autoconf automake   \</span><br><span class="line">    libxml2 libxslt     \</span><br><span class="line">    libxslt-devel \</span><br><span class="line">    gd-devel \</span><br><span class="line">    perl-devel perl-ExtUtils-Embed \</span><br><span class="line">    zlib-devel \</span><br><span class="line">    wget</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">wget http://nginx.org/download/nginx-1.12.2.tar.gz</span><br><span class="line">tar xf nginx-1.12.2.tar.gz</span><br><span class="line"></span><br><span class="line">useradd -r -s /sbin/nologin -m -d   /var/lib/nginx nginx</span><br><span class="line"></span><br><span class="line">cd nginx-1.12.2/</span><br><span class="line">    ./configure  \</span><br><span class="line">    --prefix=/usr/local/nginx \</span><br><span class="line">    --error-log-path=/var/log/nginx/error.log  \</span><br><span class="line">    --http-log-path=/var/log/nginx/access.log  \</span><br><span class="line">    --pid-path=/var/run/nginx.pid  \</span><br><span class="line">    --lock-path=/var/run/nginx.lock  \</span><br><span class="line">    --user=nginx  \</span><br><span class="line">    --group=nginx  \</span><br><span class="line">    --with-pcre  \</span><br><span class="line">    --with-http_ssl_module  \</span><br><span class="line">    --with-http_realip_module  \</span><br><span class="line">    --with-http_geoip_module  \		# 开启GeoIP模块</span><br><span class="line">    --with-http_addition_module  \</span><br><span class="line">    --with-http_sub_module  \</span><br><span class="line">    --with-http_dav_module  \</span><br><span class="line">    --with-http_flv_module  \</span><br><span class="line">    --with-http_mp4_module  \</span><br><span class="line">    --with-http_gunzip_module  \</span><br><span class="line">    --with-http_gzip_static_module  \</span><br><span class="line">    --with-http_random_index_module  \</span><br><span class="line">    --with-http_secure_link_module  \</span><br><span class="line">    --with-http_stub_status_module  \</span><br><span class="line">    --with-http_auth_request_module  \</span><br><span class="line">    --with-mail  \</span><br><span class="line">    --with-mail_ssl_module  \</span><br><span class="line">    --with-file-aio  \</span><br><span class="line">    --with-http_v2_module  </span><br><span class="line"></span><br><span class="line">make -j 4 &amp;&amp; make install</span><br></pre></td></tr></table></figure>
<h4 id="拷贝-GeoIP-数据文件"><a href="#拷贝-GeoIP-数据文件" class="headerlink" title="拷贝 GeoIP 数据文件"></a>拷贝 GeoIP 数据文件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cp GeoLiteCity.dat /usr/local/nginx/conf/</span><br><span class="line">cp GeoIP.dat /usr/local/nginx/conf/</span><br></pre></td></tr></table></figure>
<h4 id="修改Nginx配置文件"><a href="#修改Nginx配置文件" class="headerlink" title="修改Nginx配置文件"></a>修改Nginx配置文件</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> vim /usr/<span class="built_in">local</span>/nginx/conf/nginx.conf</span></span><br><span class="line">worker_processes  1;</span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections  1024;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    include       mime.types;</span><br><span class="line">    default_type  application/octet-stream;</span><br><span class="line">    sendfile        on;</span><br><span class="line">    keepalive_timeout  65;</span><br><span class="line">    geoip_country       /usr/local/nginx/conf/GeoIP.dat;# 指明GeoiP数据包</span><br><span class="line">    geoip_city          /usr/local/nginx/conf/GeoLiteCity.dat; # 指明GeoiP数据包</span><br><span class="line"></span><br><span class="line">    server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  192.168.8.11;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">            if ($geoip_country_code != "CN")&#123;		# 如果访问的国家不等于CN(中国)</span><br><span class="line">            return  405 ;							# 那么就返回405状态码</span><br><span class="line">            &#125;</span><br><span class="line">            root   html;</span><br><span class="line">            index  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        error_page   500 502 503 504  /50x.html;</span><br><span class="line">        location = /50x.html &#123;</span><br><span class="line">            root   html;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        error_page    405 /405.html;		# 定义405状态和访问文件</span><br><span class="line">        location = /405.html &#123;		</span><br><span class="line">            root   html;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="编写405-html"><a href="#编写405-html" class="headerlink" title="编写405.html"></a>编写405.html</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> vim /usr/<span class="built_in">local</span>/nginx/html/405.html </span></span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;title&gt;Error&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    body &#123;</span><br><span class="line">        width: 35em;</span><br><span class="line">        margin: 0 auto;</span><br><span class="line">        font-family: Tahoma, Verdana, Arial, sans-serif;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;Your country and region are not allowed to visit!&lt;/h1&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h4 id="启动Nginx测试"><a href="#启动Nginx测试" class="headerlink" title="启动Nginx测试"></a>启动Nginx测试</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> /usr/<span class="built_in">local</span>/nginx/sbin/nginx/nginx</span></span><br></pre></td></tr></table></figure>
<center><img src="https://houhaiyun.github.io/img/images/Nginx-GeoIP-1.png" title="测试访问"></center>


<h3 id="GeoIP组件配置项参考"><a href="#GeoIP组件配置项参考" class="headerlink" title="GeoIP组件配置项参考"></a>GeoIP组件配置项参考</h3><h4 id="GeoIP中跟国家相关的变量"><a href="#GeoIP中跟国家相关的变量" class="headerlink" title="GeoIP中跟国家相关的变量"></a>GeoIP中跟国家相关的变量</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$geoip_country_code #两位字符的英文国家码。如：CN, US</span><br><span class="line">$geoip_country_code3 #三位字符的英文国家码。如：CHN, USA</span><br><span class="line">$geoip_country_name #国家英文全称。如：China, United States</span><br></pre></td></tr></table></figure>
<h4 id="GeoIP-中跟省份相关的变量"><a href="#GeoIP-中跟省份相关的变量" class="headerlink" title="GeoIP 中跟省份相关的变量"></a>GeoIP 中跟省份相关的变量</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">CN,01,”Anhui”</span><br><span class="line">CN,02,”Zhejiang”</span><br><span class="line">CN,03,”Jiangxi”</span><br><span class="line">CN,04,”Jiangsu”</span><br><span class="line">CN,05,”Jilin”</span><br><span class="line">CN,06,”Qinghai”</span><br><span class="line">CN,07,”Fujian”</span><br><span class="line">CN,08,”Heilongjiang”</span><br><span class="line">CN,09,”Henan”</span><br><span class="line">CN,10,”Hebei”</span><br><span class="line">CN,11,”Hunan”</span><br><span class="line">CN,12,”Hubei”</span><br><span class="line">CN,13,”Xinjiang”</span><br><span class="line">CN,14,”Xizang”</span><br><span class="line">CN,15,”Gansu”</span><br><span class="line">CN,16,”Guangxi”</span><br><span class="line">CN,18,”Guizhou”</span><br><span class="line">CN,19,”Liaoning”</span><br><span class="line">CN,20,”Nei Mongol”</span><br><span class="line">CN,21,”Ningxia”</span><br><span class="line">CN,22,”Beijing”</span><br><span class="line">CN,23,”Shanghai”</span><br><span class="line">CN,24,”Shanxi”</span><br><span class="line">CN,25,”Shandong”</span><br><span class="line">CN,26,”Shaanxi”</span><br><span class="line">CN,28,”Tianjin”</span><br><span class="line">CN,29,”Yunnan”</span><br><span class="line">CN,30,”Guangdong”</span><br><span class="line">CN,31,”Hainan”</span><br><span class="line">CN,32,”Sichuan”</span><br><span class="line">CN,33,”Chongqing”</span><br></pre></td></tr></table></figure>
<h4 id="GeoIP中跟国家下级区域相关的变量"><a href="#GeoIP中跟国家下级区域相关的变量" class="headerlink" title="GeoIP中跟国家下级区域相关的变量"></a>GeoIP中跟国家下级区域相关的变量</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">geoip_city_country_code <span class="comment">#也是两位字符的英文国家码。</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">geoip_city_country_code3 <span class="comment">#上同</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">geoip_city_country_name <span class="comment">#上同.</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">geoip_region <span class="comment">#这个经测试是两位数的数字，如杭州是02, 上海是 23。</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">geoip_city <span class="comment">#城市的英文名称。如：Hangzhou</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">geoip_postal_code <span class="comment">#城市的邮政编码。经测试，国内这字段为空</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">geoip_city_continent_code <span class="comment">#不知什么用途，国内好像都是AS</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">geoip_latitude <span class="comment">#纬度</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">geoip_longitude <span class="comment">#经度</span></span></span><br></pre></td></tr></table></figure>
<h4 id="查询IP信息"><a href="#查询IP信息" class="headerlink" title="查询IP信息"></a>查询IP信息</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">geoiplookup x.x.x.x</span><br><span class="line"><span class="meta">#</span><span class="bash"> 例如</span></span><br><span class="line">geoiplookup 8.8.8.8</span><br><span class="line">GeoIP Country Edition: US, United States</span><br></pre></td></tr></table></figure>
<h4 id="查询IP所在经纬度"><a href="#查询IP所在经纬度" class="headerlink" title="查询IP所在经纬度"></a>查询IP所在经纬度</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">geoiplookup -f GeoLiteCity.dat x.x.x.x</span><br><span class="line"># 例如</span><br><span class="line"># geoiplookup -f /usr/local/nginx/conf/GeoLiteCity.dat 8.8.8.8</span><br><span class="line">GeoIP City Edition, Rev 1: US, N/A, N/A, N/A, 37.750999, -97.821999, 0, 0</span><br></pre></td></tr></table></figure>
<h3 id="致谢"><a href="#致谢" class="headerlink" title="致谢"></a>致谢</h3><p>GeoIP 可以实现白名单功能，也可以根据区域进行负载，功能很强大，预知后事如何，且听下回分解。</p>
<p><a href="https://dev.maxmind.com/" target="_blank" rel="noopener">GeoIP 官网</a></p>
<p><a href="http://www.52os.net/articles/configure-nginx-using-geoip-allow-whitelist.html" target="_blank" rel="noopener">Nginx使用GeoIP限制并支持白名单</a></p>
</div></div><div class="post-main post-comment"></div></article><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
  $(".fancybox").fancybox();
});
</script></body></html>