<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Peter's technology stack."><title>常用生成随机密码的方法 | Keep learn!</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/font.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a><a class="sidebar-nav-item" href="/archives">Archives</a><a class="sidebar-nav-item" href="/about">About</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/Linux/">Linux</a></div><div class="post-time">2018-11-25</div></div></div><div class="container post-header"><h1>常用生成随机密码的方法</h1></div><div class="container post-toc"><details class="toc"><summary class="toc-accordion">Table of Contents</summary><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-使用openssl生成密码"><span class="toc-number">1.</span> <span class="toc-text">1. 使用openssl生成密码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-使用urandom生成密码"><span class="toc-number">2.</span> <span class="toc-text">2. 使用urandom生成密码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-使用-dd-命令生成密码"><span class="toc-number">3.</span> <span class="toc-text">3. 使用 dd 命令生成密码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-使用-md5sum-生成密码"><span class="toc-number">4.</span> <span class="toc-text">4. 使用 md5sum 生成密码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-使用gpg工具生成密码"><span class="toc-number">5.</span> <span class="toc-text">5. 使用gpg工具生成密码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-使用UUID生成密码"><span class="toc-number">6.</span> <span class="toc-text">6. 使用UUID生成密码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#致谢"><span class="toc-number"></span> <span class="toc-text">致谢</span></a></details></div><div class="container post-content"><h4 id="1-使用openssl生成密码"><a href="#1-使用openssl生成密码" class="headerlink" title="1. 使用openssl生成密码"></a>1. 使用openssl生成密码</h4><a id="more"></a>
<p>几乎所有 Linux 发型吧都包含openssl。我们可以利用它的随机功能来生成可以用作密码的随机字母字符串。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl rand -base64 10</span><br></pre></td></tr></table></figure>
<p>这里我们使用<code>base64</code>编码随机函数，最后一个数字参数表示长度。</p>
<h4 id="2-使用urandom生成密码"><a href="#2-使用urandom生成密码" class="headerlink" title="2. 使用urandom生成密码"></a>2. 使用urandom生成密码</h4><p>设备文件 <code>/dev/urandom</code>是另一个获得随机字符串的方法。我们使用<code>tr</code>功能并裁剪输出来获得随机字符串，并把它作为密码。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">strings /dev/urandom | tr -dc A-Za-z0-9 | head -c20 ; echo</span><br></pre></td></tr></table></figure>
<h4 id="3-使用-dd-命令生成密码"><a href="#3-使用-dd-命令生成密码" class="headerlink" title="3. 使用 dd 命令生成密码"></a>3. 使用 dd 命令生成密码</h4><p>我们甚至可以使用<code>/dev/urandom</code>设备配合<code>dd命令</code>来获取随机字符串。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> dd if=/dev/urandom bs=1 count=15 | base64 -w 0</span><br><span class="line">15+0 records in</span><br><span class="line">15+0 records out</span><br><span class="line">15 bytes (15 B) copiedp3bsPj2W9IWOYUbGE2Mp, 0.000234576 s, 63.9 kB/s</span><br></pre></td></tr></table></figure>
<h4 id="4-使用-md5sum-生成密码"><a href="#4-使用-md5sum-生成密码" class="headerlink" title="4. 使用 md5sum 生成密码"></a>4. 使用 md5sum 生成密码</h4><p>另一种获取可用作密码的随机字符串的方法是计算 MD5 校验值！校验值看起来确实像是随机字符串组合在一起，我们可以用作密码。确保你的计算源是个变量，这样的话每次运行命令时生成的校验值都不一样。比如 <code>date</code> ！<code>date命令</code>总会生成不同的输出。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> date | md5sum </span><br><span class="line">0ae5407b8aeff9237d49a84f156feab2  -</span><br></pre></td></tr></table></figure>
<h4 id="5-使用gpg工具生成密码"><a href="#5-使用gpg工具生成密码" class="headerlink" title="5. 使用gpg工具生成密码"></a>5. 使用gpg工具生成密码</h4><p>GPG 是一个遵循 OpenPGP 标准的加密及签名工具。大部分 gpg 工具都预先被安装好了（至少在我的 RHEL7 上是这样）。但如果没有的话你可以寻找 <code>gpg</code> 或 <code>gpg2</code> 软件包并<a href="https://kerneltalks.com/tools/package-installation-linux-yum-apt/" target="_blank" rel="noopener">安装</a>它。</p>
<p>使用下面的命令以从 gpg 工具生成密码。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> gpg --gen-random --armor 1 12</span><br><span class="line">BsHrXLgYQcVI4aFz</span><br></pre></td></tr></table></figure>
<p>这里我们传了生成随机字节序列选项（<code>--gen-random</code>），质量为 1（第一个参数），次数 12 （第二个参数）。选项 <code>--armor</code> 保证以 <code>base64</code> 编码输出。</p>
<h4 id="6-使用UUID生成密码"><a href="#6-使用UUID生成密码" class="headerlink" title="6. 使用UUID生成密码"></a>6. 使用UUID生成密码</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> uuidgen | tr -d '-'</span><br><span class="line">278c485c200a4c80854c235af53c906f</span><br></pre></td></tr></table></figure>
<h3 id="致谢"><a href="#致谢" class="headerlink" title="致谢"></a>致谢</h3><p><a href="https://linux.cn/article-9318-1.html" target="_blank" rel="noopener">Linux中国：八种在 Linux 上生成随机密码的方法</a></p>
</div></div><div class="post-main post-comment"><div id="disqus_thread"></div><script type="text/javascript">
var disqus_shortname = 'keeplearn';
var disqus_identifier = '2018/11/25/Linux-Random-Password/';
var disqus_title = '常用生成随机密码的方法';
var disqus_url = 'https://keeplearn.vip/2018/11/25/Linux-Random-Password/';
(function() {
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">Blog comments powered by <span class="logo-disqus">Disqus</span></a></div></article><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
  $(".fancybox").fancybox();
});
</script></body></html>