<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Peter's technology stack."><title>部署RabbitMQ | Peter's technology stack.</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/font.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a><a class="sidebar-nav-item" href="/archives">Archives</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/RabbitMQ/">RabbitMQ</a></div><div class="post-time">2018-10-14</div></div></div><div class="container post-header"><h1>部署RabbitMQ</h1></div><div class="container post-toc"><details class="toc"><summary class="toc-accordion">Table of Contents</summary><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#简介"><span class="toc-number">1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装"><span class="toc-number">2.</span> <span class="toc-text">安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#修改主机名并写入hosts文件"><span class="toc-number">2.1.</span> <span class="toc-text">修改主机名并写入hosts文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#启动服务"><span class="toc-number">2.2.</span> <span class="toc-text">启动服务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#查看服务"><span class="toc-number">2.3.</span> <span class="toc-text">查看服务</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建用户授权"><span class="toc-number">3.</span> <span class="toc-text">创建用户授权</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#启用RabbitMQ管理插件"><span class="toc-number">4.</span> <span class="toc-text">启用RabbitMQ管理插件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#致谢"><span class="toc-number">5.</span> <span class="toc-text">致谢</span></a></li></ol></details></div><div class="container post-content"><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><a id="more"></a>
<p>RabbitMQ 是一个用 Erlang 语言开发的 AMQP 开源实现。AMQP（Advanced Message Queue Protocol），高级消息队列协议，是异步消息处理领域的一个公开标准，主要由 Cisco、RedHat 等联合制定。而 RabbitMQ 就是 AMQP 的一个开源实现，由 RabbitMQ Technologies Ltd 公司开发并提供商业支持。</p>
<p>RabbitMQ 主要应用于大型系统中不同的应用或者子系统之间的通信，通过分隔数据的发送和接收来解耦应用。</p>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">　wget https://dl.bintray.com/rabbitmq/all/rabbitmq-server/3.6.15/rabbitmq-server-3.6.15-1.el7.noarch.rpm</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> yum install -y ./rabbitmq-server-3.6.15-1.el7.noarch.rpm</span></span><br></pre></td></tr></table></figure>
<h4 id="修改主机名并写入hosts文件"><a href="#修改主机名并写入hosts文件" class="headerlink" title="修改主机名并写入hosts文件"></a>修改主机名并写入hosts文件</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> hostnamectl <span class="built_in">set</span>-hostname centos1  &amp;&amp; <span class="built_in">exec</span> bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> vim /etc/hosts</span></span><br><span class="line">127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4</span><br><span class="line">::1         localhost localhost.localdomain localhost6 localhost6.localdomain6</span><br><span class="line">127.0.0.1   centos1</span><br></pre></td></tr></table></figure>
<h4 id="启动服务"><a href="#启动服务" class="headerlink" title="启动服务"></a>启动服务</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl start rabbitmq-server</span><br><span class="line">systemctl enable rabbitmq-server</span><br></pre></td></tr></table></figure>
<h4 id="查看服务"><a href="#查看服务" class="headerlink" title="查看服务"></a>查看服务</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@centos1 ~]# ss -tnlp | grep beam</span><br><span class="line">LISTEN     0      128          *:25672                    *:*                   users:(("beam.smp",pid=5101,fd=8))</span><br><span class="line">LISTEN     0      128         :::5672                    :::*                   users:(("beam.smp",pid=5101,fd=50))</span><br></pre></td></tr></table></figure>
<h3 id="创建用户授权"><a href="#创建用户授权" class="headerlink" title="创建用户授权"></a>创建用户授权</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@centos1 ~]# rabbitmqctl add_user admin admin		# 创建用户admin，密码也是admin</span><br><span class="line">Creating user "admin"</span><br><span class="line"></span><br><span class="line">[root@centos1 ~]# rabbitmqctl list_users		# 查看用户列表</span><br><span class="line">Listing users</span><br><span class="line">admin	[]</span><br><span class="line">guest	[administrator]</span><br><span class="line"></span><br><span class="line">[root@centos1 ~]# rabbitmqctl set_user_tags admin administrator		# 设置admin用户为administrator角色</span><br><span class="line">Setting tags for user "admin" to [administrator]</span><br><span class="line"></span><br><span class="line">[root@centos1 ~]# rabbitmqctl set_permissions -p / admin ".*" ".*" ".*"		# 设置admin用户权限</span><br><span class="line">Setting permissions for user "admin" in vhost "/"</span><br><span class="line"></span><br><span class="line">[root@centos1 ~]# rabbitmqctl list_user_permissions admin	# 查看admin用户权限</span><br><span class="line">Listing permissions for user "admin"</span><br><span class="line">/	.*	.*	.*</span><br></pre></td></tr></table></figure>
<h3 id="启用RabbitMQ管理插件"><a href="#启用RabbitMQ管理插件" class="headerlink" title="启用RabbitMQ管理插件"></a>启用RabbitMQ管理插件</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@centos1 ~]# rabbitmq-plugins enable rabbitmq_management</span><br><span class="line">The following plugins have been enabled:</span><br><span class="line">  amqp_client</span><br><span class="line">  cowlib</span><br><span class="line">  cowboy</span><br><span class="line">  rabbitmq_web_dispatch</span><br><span class="line">  rabbitmq_management_agent</span><br><span class="line">  rabbitmq_management</span><br><span class="line"></span><br><span class="line">Applying plugin configuration to rabbit@centos1... started 6 plugins.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@centos1 ~]# ss -tnlp | grep 15672</span><br><span class="line">LISTEN     0      128          *:15672                    *:*                   users:(("beam.smp",pid=918,fd=52))</span><br></pre></td></tr></table></figure>
<p>浏览器访问：<a href="http://192.168.8.12:15672" target="_blank" rel="noopener">http://192.168.8.12:15672</a></p>
<p>账号密码刚刚创建的，账号：admin，密码：admin</p>
<center><img src="https://houhaiyun.github.io/img/images/deploy-RabbitMQ-1.png" title="测试访问"></center>

<h3 id="致谢"><a href="#致谢" class="headerlink" title="致谢"></a>致谢</h3><p><a href="https://www.rabbitmq.com/install-rpm.html" target="_blank" rel="noopener">RabbitMQ官网帮助文档</a></p>
<p><a href="https://dl.bintray.com/rabbitmq/" target="_blank" rel="noopener">RabbitMQ软件包下载</a></p>
<p><a href="https://www.linuxhub.org/?p=4502" target="_blank" rel="noopener">RabbitMQ部署入门使用</a></p>
</div></div><div class="post-main post-comment"></div></article><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
  $(".fancybox").fancybox();
});
</script></body></html>